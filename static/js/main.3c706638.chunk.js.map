{"version":3,"sources":["components/Cart/CartButton.module.css","components/UI/Card.module.css","components/Cart/Cart.module.css","components/Layout/MainHeader.module.css","components/Shop/Products.module.css","components/UI/Card.js","store/cart_slice.js","components/Cart/CartItem.js","components/Cart/Cart.js","store/ui_slice.js","components/Cart/CartButton.js","components/Layout/MainHeader.js","components/Layout/Layout.js","components/Shop/ProductItem.js","components/Shop/Products.js","store/index.js","App.js","index.js","components/Cart/CartItem.module.css","components/Shop/ProductItem.module.css"],"names":["module","exports","Card","props","className","classes","card","children","cartSlice","createSlice","name","initialState","items","totalQuantity","reducers","addItemToCart","state","action","payload","id","title","price","arr","some","e","findId","updatePrice","obj","quantity","totalPrice","push","removeItemFromCart","val","forEach","el","filter","deleteElement","cartActions","actions","CartItem","item","total","dispatch","useDispatch","handleClick","flag","toFixed","itemprice","details","onClick","memo","Cart","useSelector","ui","cartIsVisible","cart","map","uiSlice","toggle","uiActions","CartButton","button","badge","MainHeader","header","Layout","ProductItem","description","Products","products","store","configureStore","reducer","uiReducer","cartReducer","App","ReactDOM","createRoot","document","getElementById","render"],"mappings":"8HACAA,EAAOC,QAAU,CAAC,OAAS,2BAA2B,MAAQ,0B,qBCA9DD,EAAOC,QAAU,CAAC,KAAO,mB,qBCAzBD,EAAOC,QAAU,CAAC,KAAO,mB,qBCAzBD,EAAOC,QAAU,CAAC,OAAS,2B,qBCA3BD,EAAOC,QAAU,CAAC,SAAW,2B,mHCWdC,EAVF,SAACC,GACZ,OACE,yBACEC,UAAS,UAAKC,IAAQC,KAAI,YAAIH,EAAMC,UAAYD,EAAMC,UAAY,IAAK,SAEtED,EAAMI,UAGb,E,+CCHMC,EAAYC,YAAY,CAC1BC,KAAM,OACNC,aAPiB,CACjBC,MAAO,GACPC,cAAe,GAMfC,SAAU,CACNC,cAAe,SAACC,EAAOC,GACnB,MAA2BA,EAAOC,QAA3BC,EAAE,EAAFA,GAAIC,EAAK,EAALA,MAAOC,EAAK,EAALA,MAClB,GAeL,SAAgBC,EAAIH,GACvB,OAAOG,EAAIC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,KAAOA,CAAE,GACpC,CAjBgBM,CAAOT,EAAMJ,MAAMO,GACnBO,EAAYV,EAAMG,EAAG,OADzB,CAIA,IAAMQ,EAAM,CAACR,GAAIA,EAAIC,MAAOA,EAAOQ,SAAU,EAAGC,WAAYR,EAAOA,MAAOA,GAC1EL,EAAMJ,MAAMkB,KAAKH,GACjBX,EAAMH,eAAiBc,EAAIC,QAH3B,CAIJ,EACAG,mBAAoB,SAACf,EAAOC,GAExBS,EAAYV,EADDC,EAAOC,SACI,EAC1B,KAOR,SAASQ,EAAYV,EAAMG,EAAGa,GAC1BhB,EAAMJ,MAAMqB,SAAQ,SAAAC,GAChB,GAAIA,EAAGf,KAAOA,EAAI,CACd,GAAmB,IAAhBe,EAAGN,WAA2B,IAATI,EAGpB,OAQhB,SAAuBhB,EAAMG,GACzBH,EAAMJ,MAAQI,EAAMJ,MAAMuB,QAAO,SAAAD,GAAE,OAAIA,EAAGf,KAAOA,CAAE,GACvD,CAZgBiB,CAAcpB,EAAMG,QACpBH,EAAMH,eAAiBmB,GAG3BE,EAAGN,UAAYI,EACfE,EAAGL,WAAaK,EAAGN,SAAWM,EAAGb,MACjCL,EAAMH,eAAiBmB,CAC3B,CACJ,GACJ,CAKO,IAAMK,EAAc7B,EAAU8B,QAEtB9B,I,OC9CT+B,EAAW,SAACpC,GACd,MAA4CA,EAAMqC,KAA3CrB,EAAE,EAAFA,GAAIC,EAAK,EAALA,MAAOQ,EAAQ,EAARA,SAAUa,EAAK,EAALA,MAAOpB,EAAK,EAALA,MAC7BqB,EAAWC,cACV5B,EAAqCsB,EAArCtB,cAAegB,EAAsBM,EAAtBN,mBAChBa,EAAc,SAACC,GAGXH,EADNG,EACe9B,EAFC,CAACI,OAGFY,EAAmBZ,GACtC,EACA,OACI,qBAAIf,UAAWC,IAAQmC,KAAK,UACxB,mCACI,6BAAKpB,IACL,sBAAKhB,UAAWC,IAAQgB,MAAM,cACxBoB,EAAMK,QAAQ,GAAI,IACpB,uBAAM1C,UAAWC,IAAQ0C,UAAU,eAAI1B,EAAMyB,QAAQ,GAAE,kBAG/D,sBAAK1C,UAAWC,IAAQ2C,QAAQ,UAC5B,sBAAK5C,UAAWC,IAAQuB,SAAS,eAC3B,+BAAOA,OAEb,sBAAKxB,UAAWC,IAAQiC,QAAQ,UAC5B,wBAAQW,QAAS,kBAAML,GAAY,EAAM,EAAC,eAC1C,wBAAQK,QAAS,kBAAML,GAAY,EAAK,EAAC,uBAK7D,EAEeM,iBAAKX,GCbLY,EAlBF,SAAChD,GACV,IAA8D,EAA9BiD,aAAY,SAAApC,GAAK,OAAIA,EAAMqC,EAAE,IAAtDC,qBAAa,OAAQ,EACrB1C,EAASwC,aAAY,SAAApC,GAAK,OAAIA,EAAMuC,IAAI,IAAxC3C,MAEP,GAAG0C,EACH,OACI,eAAC,EAAI,CAAClD,UAAWC,IAAQkD,KAAK,UAC1B,oDACA,6BACK3C,EAAM4C,KAAI,SAAAtB,GACP,OAAO,cAAC,EAAQ,CACCM,KAAM,CAACrB,GAAIe,EAAGf,GAAIC,MAAOc,EAAGd,MAAOQ,SAAUM,EAAGN,SAAUa,MAAOP,EAAGL,WAAYR,MAAOa,EAAGb,QADrFa,EAAGf,GAE7B,QAIhB,E,iBChBasC,EAAUhD,YAAY,CAC/BC,KAAM,KACNC,aANiB,CACjB2C,eAAe,GAMfxC,SAAU,CACN4C,OAAS,SAAC1C,GACNA,EAAMsC,eAAiBtC,EAAMsC,aACjC,KAKKK,EAAYF,EAAQnB,QAElBmB,ICAAG,EAfI,SAACzD,GAChB,IAAOU,EAAiBuC,aAAY,SAAApC,GAAK,OAAIA,EAAMuC,IAAI,IAAhD1C,cACD6B,EAAWC,cACVe,EAAUC,EAAVD,OAIP,OACI,yBAAQtD,UAAWC,IAAQwD,OAAQZ,QAJnB,WAChBP,EAASgB,IACb,EAE4D,UACpD,2CACA,sBAAMtD,UAAWC,IAAQyD,MAAM,SAAEjD,MAG7C,E,iBCKekD,EAjBI,SAAC5D,GAGhB,OACI,yBAAQC,UAAWC,IAAQ2D,OAAO,UAC9B,kDACA,8BACI,6BACI,6BACI,cAAC,EAAU,YAMnC,ECReC,EATA,SAAC9D,GACd,OACE,eAAC,WAAQ,WACP,cAAC,EAAU,IACX,+BAAOA,EAAMI,aAGnB,E,gBCmBe2D,EAxBK,SAAC/D,GACnB,IAAQgB,EAAkChB,EAAlCgB,GAAIC,EAA8BjB,EAA9BiB,MAAOC,EAAuBlB,EAAvBkB,MAAO8C,EAAgBhE,EAAhBgE,YACpBzB,EAAWC,cACV5B,EAAqCsB,EAArCtB,cAAqCsB,EAAtBN,mBAKtB,OACE,oBAAI3B,UAAWC,IAAQmC,KAAK,SAC1B,eAAC,EAAI,WACH,mCACE,6BAAKpB,IACL,sBAAKhB,UAAWC,IAAQgB,MAAM,cAAGA,EAAMyB,QAAQ,SAEjD,4BAAIqB,IACJ,qBAAK/D,UAAWC,IAAQiC,QAAQ,SAC9B,wBAAQW,QAbI,WAElBP,EAAS3B,EADO,CAACI,KAAIC,QAAOC,UAE9B,EAUqC,+BAKvC,E,iBCFe+C,EAtBE,SAACjE,GAChB,OACE,0BAASC,UAAWC,IAAQgE,SAAS,UACnC,4DACA,+BACE,cAAC,EAAW,CACVlD,GAAI,EACJC,MAAM,OACNC,MAAO,EACP8C,YAAY,sBAEd,cAAC,EAAW,CACVhD,GAAI,EACJC,MAAM,MACNC,MAAO,IACP8C,YAAY,6BAKtB,ECZeG,EAPDC,YAAe,CACzBC,QAAS,CACLnB,GAAIoB,EAAUD,QACdjB,KAAMmB,EAAYF,WCUXG,MAXf,WACE,OACI,cAAC,IAAQ,CAACL,MAAOA,EAAM,SACnB,eAAC,EAAM,WACH,cAAC,EAAI,IACL,cAAC,EAAQ,QAIvB,ECVaM,IAASC,WAAWC,SAASC,eAAe,SACpDC,OAAO,cAAC,EAAG,I,oBCLhBhF,EAAOC,QAAU,CAAC,KAAO,uBAAuB,QAAU,0BAA0B,SAAW,2BAA2B,MAAQ,wBAAwB,UAAY,4BAA4B,QAAU,0B,oBCA5MD,EAAOC,QAAU,CAAC,KAAO,0BAA0B,MAAQ,2BAA2B,QAAU,6B","file":"static/js/main.3c706638.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"CartButton_button__3JNXg\",\"badge\":\"CartButton_badge__2_mdx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1qeJ3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart\":\"Cart_cart__3w1Sz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainHeader_header__1oXhY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"products\":\"Products_products__f0uyN\"};","import classes from './Card.module.css';\r\n\r\nconst Card = (props) => {\r\n  return (\r\n    <section\r\n      className={`${classes.card} ${props.className ? props.className : ''}`}\r\n    >\r\n      {props.children}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import {createSlice} from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n    items: [],\r\n    totalQuantity: 0,\r\n}\r\n\r\nconst cartSlice = createSlice({\r\n    name: 'Cart',\r\n    initialState,\r\n    reducers: {\r\n        addItemToCart: (state, action) => {\r\n            const {id, title, price} = action.payload;\r\n            if (findId(state.items,id)) {\r\n                updatePrice(state,id,1);\r\n                return;\r\n            }\r\n            const obj = {id: id, title: title, quantity: 1, totalPrice: price, price: price}\r\n            state.items.push(obj);\r\n            state.totalQuantity += obj.quantity;\r\n        },\r\n        removeItemFromCart: (state, action) => {\r\n            const id = action.payload;\r\n            updatePrice(state,id,-1);\r\n        }\r\n    }\r\n});\r\n\r\nexport function findId(arr,id) {\r\n    return arr.some(e => e.id === id)\r\n}\r\nfunction updatePrice(state,id,val) {\r\n    state.items.forEach(el => {\r\n        if (el.id === id) {\r\n            if(el.quantity === 1 && val === -1){\r\n                deleteElement(state,id);\r\n                state.totalQuantity += val;\r\n                return;\r\n            }\r\n            el.quantity += val;\r\n            el.totalPrice = el.quantity * el.price;\r\n            state.totalQuantity += val;\r\n        }\r\n    })\r\n}\r\nfunction deleteElement(state,id){\r\n    state.items = state.items.filter(el => el.id !== id);\r\n}\r\n// these exports should stay the way they are\r\nexport const cartActions = cartSlice.actions;\r\n\r\nexport default cartSlice;\r\n","import classes from './CartItem.module.css';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {cartActions} from \"../../store/cart_slice\";\r\nimport {memo} from \"react\";\r\n\r\nconst CartItem = (props) => {\r\n    const {id, title, quantity, total, price} = props.item;\r\n    const dispatch = useDispatch();\r\n    const {addItemToCart, removeItemFromCart} = cartActions;\r\n    const handleClick = (flag) => {\r\n        const payload = {id};\r\n        flag\r\n            ? dispatch(addItemToCart(payload))\r\n            : dispatch(removeItemFromCart(id))\r\n    }\r\n    return (\r\n        <li className={classes.item}>\r\n            <header>\r\n                <h3>{title}</h3>\r\n                <div className={classes.price}>\r\n                    ${total.toFixed(2)}{' '}\r\n                    <span className={classes.itemprice}>(${price.toFixed(2)}/item)</span>\r\n                </div>\r\n            </header>\r\n            <div className={classes.details}>\r\n                <div className={classes.quantity}>\r\n                    x <span>{quantity}</span>\r\n                </div>\r\n                <div className={classes.actions}>\r\n                    <button onClick={() => handleClick(false)}>-</button>\r\n                    <button onClick={() => handleClick(true)}>+</button>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default memo(CartItem);\r\n","import Card from '../UI/Card';\r\nimport classes from './Cart.module.css';\r\nimport CartItem from './CartItem';\r\nimport {useSelector} from \"react-redux\";\r\n\r\n\r\nconst Cart = (props) => {\r\n    const {cartIsVisible = false} = useSelector(state => state.ui);\r\n    const {items} = useSelector(state => state.cart);\r\n\r\n    if(cartIsVisible)\r\n    return (\r\n        <Card className={classes.cart}>\r\n            <h2>Your Shopping Cart</h2>\r\n            <ul>\r\n                {items.map(el => {\r\n                    return <CartItem key={el.id}\r\n                                     item={{id: el.id, title: el.title, quantity: el.quantity, total: el.totalPrice, price: el.price}}/>\r\n                })}\r\n            </ul>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default Cart;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n    cartIsVisible: false,\r\n}\r\n\r\nexport const uiSlice = createSlice({\r\n    name: 'Ui',\r\n    initialState,\r\n    reducers: {\r\n        toggle : (state) => {\r\n            state.cartIsVisible = !state.cartIsVisible;\r\n        }\r\n    }\r\n});\r\n\r\n// these exports should stay the way they are\r\nexport const uiActions = uiSlice.actions;\r\n\r\nexport default uiSlice;\r\n","import classes from './CartButton.module.css';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {uiActions} from \"../../store/ui_slice\";\r\n\r\nconst CartButton = (props) => {\r\n    const {totalQuantity} = useSelector(state => state.cart);\r\n    const dispatch = useDispatch();\r\n    const {toggle} = uiActions;\r\n    const handleClick = () => {\r\n        dispatch(toggle());\r\n    }\r\n    return (\r\n        <button className={classes.button} onClick={handleClick}>\r\n            <span>My Cart</span>\r\n            <span className={classes.badge}>{totalQuantity}</span>\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default CartButton;\r\n","import CartButton from '../Cart/CartButton';\r\nimport classes from './MainHeader.module.css';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {uiActions} from \"../../store/ui_slice\";\r\n\r\nconst MainHeader = (props) => {\r\n\r\n\r\n    return (\r\n        <header className={classes.header}>\r\n            <h1>ReduxToolkitTask</h1>\r\n            <nav>\r\n                <ul>\r\n                    <li>\r\n                        <CartButton/>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default MainHeader;\r\n","import { Fragment } from 'react';\r\nimport MainHeader from './MainHeader';\r\n\r\nconst Layout = (props) => {\r\n  return (\r\n    <Fragment>\r\n      <MainHeader />\r\n      <main>{props.children}</main>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import Card from '../UI/Card';\r\nimport classes from './ProductItem.module.css';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {cartActions} from \"../../store/cart_slice\";\r\n\r\nconst ProductItem = (props) => {\r\n  const { id, title, price, description } = props;\r\n  const dispatch = useDispatch();\r\n  const {addItemToCart, removeItemFromCart} = cartActions;\r\n  const handleClick = () => {\r\n    const payload = {id, title, price};\r\n    dispatch(addItemToCart(payload));\r\n  }\r\n  return (\r\n    <li className={classes.item}>\r\n      <Card>\r\n        <header>\r\n          <h3>{title}</h3>\r\n          <div className={classes.price}>${price.toFixed(2)}</div>\r\n        </header>\r\n        <p>{description}</p>\r\n        <div className={classes.actions}>\r\n          <button onClick={handleClick}>Add to Cart</button>\r\n        </div>\r\n      </Card>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ProductItem;\r\n","import ProductItem from \"./ProductItem\";\r\nimport classes from \"./Products.module.css\";\r\n\r\nconst Products = (props) => {\r\n  return (\r\n    <section className={classes.products}>\r\n      <h2>Buy your favorite products</h2>\r\n      <ul>\r\n        <ProductItem\r\n          id={1}\r\n          title=\"Book\"\r\n          price={7}\r\n          description=\"Choose this book!\"\r\n        />\r\n        <ProductItem\r\n          id={2}\r\n          title=\"Toy\"\r\n          price={100}\r\n          description=\"Nice toy for a dog!\"\r\n        />\r\n      </ul>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport uiReducer from \"./ui_slice\";\r\nimport cartReducer from \"./cart_slice\";\r\n\r\nconst store = configureStore({\r\n    reducer: {\r\n        ui: uiReducer.reducer,\r\n        cart: cartReducer.reducer,\r\n    }\r\n});\r\n\r\nexport default store;\r\n","import Cart from './components/Cart/Cart';\r\nimport Layout from './components/Layout/Layout';\r\nimport Products from './components/Shop/Products';\r\nimport store from \"./store\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nfunction App() {\r\n  return (\r\n      <Provider store={store}>\r\n          <Layout>\r\n              <Cart />\r\n              <Products />\r\n          </Layout>\r\n      </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom/client';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(<App />);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"CartItem_item__4mEic\",\"details\":\"CartItem_details__1_uz2\",\"quantity\":\"CartItem_quantity__1-XG0\",\"price\":\"CartItem_price__t_SQ3\",\"itemprice\":\"CartItem_itemprice__3wsc9\",\"actions\":\"CartItem_actions__25eGY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ProductItem_item__O4TYj\",\"price\":\"ProductItem_price__2UHA3\",\"actions\":\"ProductItem_actions__2ptPq\"};"],"sourceRoot":""}